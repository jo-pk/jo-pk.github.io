---
layout: post
title: "[Effective Java] Item27. 비검사 경고를 제거하라"
description: 직접 머리 굴려서 해결하기 vs 애너테이션으로 무시하기
categories: self
---

> 아이템 27. 비검사 경고를 제거하라

Author: seovalue

제네릭을 사용하기 시작하면 컴파일러 경고를 많이 볼 수 있다. (사실 본 적이 별로 없다.)<br>

책에서 나오는 예시를 들어보자면, 다음과 같다.<br>
```java
Set<PK> pk = new HashSet();
```
어떻게 보면, 우리는 너무나 당연하게 다이아몬드 연산자를 사용하고 있었을지도 모른다.<br>
자바7부터 지원되는 다이아몬드 연산자는 컴파일러가 올바른 실제 타입 매개변수를 추론해줄 수 있도록 도와준다.<br>

비검사 경고를 제거하는 방법에는 `@SuppressWarnings("unchecked")`가 있다. 해당 애너테이션을 달게 되면, 이는 비검사 경고 예외를 출력하지 않게 된다. 하지만 이를 사용하기 위해서는 주석을 통해 경고를 무시해도 안전한 이유를 남겨야한다.<br>
하지만 여태까지 프로그래밍하면서 위 애너테이션은 아직까지 사용해보지 않았다.<br>
나중에 실제로 컬렉션 객체를 커스텀해서 만들거나 하게 되면 사용해볼 기회가 생기려나..<br>


-----

Author: PK

javac 커맨드에 `-Xlint:uncheck` 옵션을 추가하면 unchecked casting 관련 경고를 컴파일러가 보여준다.<br>
해당 옵션을 활용해서 다음과 같은 방식으로 코드를 수정할 수 있다:

```java
//before
Set<Something> somethings=new HashSet();

//after
Set<Something> somethins=new HashSet<>();
```

위의 경우엔 다이아몬드 연산자(`<>`)를 사용해서 문제를 해결했다.<br>
다이아몬드 연산자는 자바 7부터 지원한다.<br>
물론 타입 안전하지 않다는 경고가 보이는데도 내가 안전하다고 확신이 생긴다면
`@SuppressWarnings("unchecked")` 애너테이션을 달아서 경고를 제거할 수 있다. 웬만해서는 작음 범위에서 적용하도록 하자. (ex: 변수 선언, 메서드, 생성자)
만약 한 줄이 넘는 코드에 애너테이션이 달려있다면 최대한 지역변수 선언 쪽으로 옮기자. 이를 위해 지역변수를 생성하는 것도 좋다. (애너테이션은 선언에만 달 수 있다.)<br>

**그래도 웬만해서는 경고를 애너테이션으로 무시하지 말고 해결하도록 하자.**
