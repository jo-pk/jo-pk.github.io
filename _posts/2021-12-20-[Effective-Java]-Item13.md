---
layout: post
title: "[Effective Java] Item13. clone 재정의는 주의해서 진행하라"
description: 들어가며
categories: self
---

Author: seovalue

> 아이템 13. clone 재정의는 주의해서 진행하라.

복제를 하게 되면 예상치 못한 위험이 발생할 수 있다. 예를 들어 복제를 했는데, 내부 가변 객체의 같은 주소값을 갖도록 복제된다면 복제한 객체의 필드를 변경했을 때 원본에도 영향을 미칠 수 있다.

-> 하지만 이 아이템은 아직 제대로 잘 이해를 못하겠다.. 

-----

Author: PK

새로운 인터페이스를 만들 때 "절대" Cloneable을 확장하거나 구현해서는 안된다. final 클래스라면 Cloneable을 구현해도 위험이 크진 않다. 하지만 성능을 고려하도록 하자. "복제 기능은 생성자와 팩터리를 이용하는 게 최고"라고 저자는 말한다. 그리고 예외로 배열의 clone 메서드가 있다고 한다.

clone 메서드는 Cloneable이 아닌 Object 클래스에 protected 접근자로 선언되어 있다. Cloneable은 해당 메서드의 동작 방식을 결정한다.

clone 메서드는 사실상 생성자와 같은 효과를 내기 때문에, 원본 객체에 아무런 해를 끼치지 않는 동시에 복제된 객체의 불변식을 보장해야한다.
