---
layout: post
title: "[Effective Java] Item17. 변경 가능성을 최소화하라"
description: 들어가며
categories: self
---

Author: seovalue

> 아이템 17. 변경 가능성을 최소화하라.

### 클래스를 불변으로 만들기 위한 규칙
1. 객체의 상태를 변경하는 메서드를 제공하지 않는다.
2. 클래스를 확장할 수 없도록 한다.
3. 모든 필드를 final로 선언한다.
4. 모든 필드를 private으로 선언한다.
5. 자신 외에는 내부의 가변 컴포넌트에 접근할 수 없도록 한다.

### 불변 객체의 장점
1. 불변 객체는 thread-safe하며 따로 동기화할 필요 없다.
2. 불변 객체는 따라서 안심하고 공유할 수 있다.
3. 객체를 만들 때 다른 불변 객체들을 구성요소로 사용하면 불변식을 유지하기 쉽기에 장점이 많다.
4. 불변 객체는 그 자체로 실패 원자성을 제공한다.

### 불변 객체의 단점
값이 다르면 반드시 독립된 객체로 만들어야한다.
따라서 원하는 객체를 완성하기까지의 단계가 많고, 그 중간 단계에서 만들어진 객체들이 모두 버려진다면 성능 문제가 발생할 수 있다.

이런 경우에는 불변 객체와 가변 동반 클래스를 함께 둘 수 있다. 예를 들자면 String과 StringBuilder가 있을 것이다.
